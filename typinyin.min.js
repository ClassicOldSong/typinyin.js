(function(){var c={sentences:[{ch:["这是","一个","实例","示例"],py:["zheshi","yige","shili","shili"],},{ch:["This is an example."],py:["This is an exaaaaaaaa\b\b\b\b\b\b\bmple."]}],startDelay:0,typeSpeed:100,pause:1000,backSpeed:60,cursorChar:"|",loop:false,};var e;var d="del";var g="pause";function i(){return('Typinyin - Ver 0.1.3 \n Please use "new" to create a typinin element.')}function a(j){this.element=j;if(typeof j==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid typinyin element.")}if(this.element.typinyin){throw new Error("Typinyin already attached.")}this.element.typinyin=true;return this}function h(j){this.options=j;return this}function b(){if(typeof this.options==="undefined"){this.options=c}else{for(var j in c){if(typeof this.options[j]==="undefined"){this.options[j]=c[j]}}}}function f(){var j=this;b.call(j);var p=0;function m(u,s){var t=u;function r(){if(t>0){setTimeout(function(){q.textContent=q.textContent.substr(0,q.textContent.length-1);t--;r()},j.options.backSpeed)}else{if(typeof s==="function"){s()}}}r()}function o(s,r){setTimeout(function(){r()},s)}function n(){k="";var y=0;var w;var r=0;var v=0;var x="";function s(){if(r<w.length){if(w[r]==="\b"){r++;m(1,s);x=x.slice(0,x.length-1)}else{setTimeout(function(){x+=w[r];q.textContent=k+x;r++;s()},j.options.typeSpeed)}}else{setTimeout(function(){x=j.options.sentences[p].ch[y];q.textContent=k+x;k=q.textContent;y++;u()},j.options.typeSpeed)}}function t(){var z=0;function A(){if(z<w[v].length){if(w[v][z]==="\b"){m(1,A);x=x.slice(0,x.length-1);z++}else{setTimeout(function(){x+=w[v][z];q.textContent=k+x;z++;A()},j.options.typeSpeed)}}else{setTimeout(function(){v++;t()},j.options.typeSpeed)}}if(v<w.length){if(typeof w[v]==="object"){if(typeof w[v].del!="undefined"){m(w[v].del,t);x=x.slice(0,x.length-w[v].del);v++}else{if(typeof w[v].pause!="undefined"){o(w[v].pause,t);v++}else{throw new Error("Invalid word or method!")}}}else{A()}}else{setTimeout(function(){x=j.options.sentences[p].ch[y];q.textContent=k+x;k=q.textContent;y++;u()},j.options.typeSpeed)}}function u(){if(j.options.sentences[p].ch[y]==="\b"){m(1,function(){k=q.textContent;u()});y++}else{if(typeof j.options.sentences[p].ch[y]==="object"){if(typeof j.options.sentences[p].ch[y].del!="undefined"){m(j.options.sentences[p].ch[y].del,function(){k=q.textContent;u()});y++}else{if(typeof j.options.sentences[p].ch[y].pause!="undefined"){o(j.options.sentences[p].ch[y].pause,u);y++}else{throw new Error("Invalid word or method!")}}}else{if(y<j.options.sentences[p].ch.length){w=j.options.sentences[p].py[y];r=0;v=0;x="";if(typeof w==="object"){t()}else{s()}}else{setTimeout(function(){if(p<j.options.sentences.length-1||j.options.loop){m(q.textContent.length,n);p++}else{if(typeof j.finished==="function"){j.finished()}return}},j.options.pause)}}}}if(p<j.options.sentences.length){y=0;q.innerHTML="";u()}else{if(j.options.loop){j.init()}}}var q=document.createElement("span");var k="";q.style.cssText="white-space:pre-wrap;";var l=document.createElement("span");l.className="typing-cursor";l.textContent=j.options.cursorChar;j.element.innerHTML="";j.element.appendChild(q);j.element.appendChild(l);setTimeout(function(){n()},j.options.startDelay)}i.prototype.attach=a;i.prototype.setOptions=h;i.prototype.finished=e;i.prototype.init=f;window.Typinyin=i}).call(this);