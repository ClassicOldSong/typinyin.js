(function(){var c={sentences:[{ch:["这是","一个","实例","示例"],py:["zheshi","yige","shili","shili"],},{ch:["This is an example."],py:["This is an exaaaaaaaa\b\b\b\b\b\b\bmple."]}],startDelay:0,typeSpeed:100,pause:1000,backSpeed:60,cursorChar:"|",loop:false,};var e;var d="del";var g="pause";function i(){return('Typinyin - Ver 0.1.3 \n Please use "new" to create a typinin element.')}function a(j){this.element=j;if(typeof j==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid typinyin element.")}if(this.element.typinyin){throw new Error("Typinyin already attached.")}this.element.typinyin=true;return this}function h(j){this.options=j;return this}function b(){if(typeof this.options==="undefined"){this.options=c}else{for(var j in c){if(typeof this.options[j]==="undefined"){this.options[j]=c[j]}}}}function f(){var j=this;b.call(j);var p=0;function m(u,s){var t=u;function r(){if(t>0){setTimeout(function(){q.textContent=q.textContent.substr(0,q.textContent.length-1);t--;r()},j.options.backSpeed)}else{if(typeof s==="function"){s()}}}r()}function o(s,r){setTimeout(function(){r()},s)}function n(){k="";if(p<j.options.sentences.length){var s=0;function r(){if(j.options.sentences[p].ch[s]==="\b"){m(1,function(){k=q.textContent;r()});s++}else{if(typeof j.options.sentences[p].ch[s]==="object"){if(typeof j.options.sentences[p].ch[s].del!="undefined"){m(j.options.sentences[p].ch[s].del,function(){k=q.textContent;r()});s++}else{if(typeof j.options.sentences[p].ch[s].pause!="undefined"){o(j.options.sentences[p].ch[s].pause,r);s++}else{throw new Error("Invalid word or method!")}}}else{if(s<j.options.sentences[p].ch.length){var x=j.options.sentences[p].py[s];var t=0;var w=0;var y="";function u(){if(t<x.length){if(x[t]==="\b"){t++;m(1,u);y=y.slice(0,y.length-1)}else{setTimeout(function(){y+=x[t];q.textContent=k+y;t++;u()},j.options.typeSpeed)}}else{setTimeout(function(){y=j.options.sentences[p].ch[s];q.textContent=k+y;k=q.textContent;s++;r()},j.options.typeSpeed)}}function v(){var z=0;function A(){if(z<x[w].length){if(x[w][z]==="\b"){m(1,A);y=y.slice(0,y.length-1);z++}else{setTimeout(function(){y+=x[w][z];q.textContent=k+y;z++;A()},j.options.typeSpeed)}}else{setTimeout(function(){w++;v()},j.options.typeSpeed)}}if(w<x.length){if(typeof x[w]==="object"){if(typeof x[w].del!="undefined"){m(x[w].del,v);y=y.slice(0,y.length-x[w].del);w++}else{if(typeof x[w].pause!="undefined"){o(x[w].pause,v);w++}else{throw new Error("Invalid word or method!")}}}else{A()}}else{setTimeout(function(){y=j.options.sentences[p].ch[s];q.textContent=k+y;k=q.textContent;s++;r()},j.options.typeSpeed)}}if(typeof x==="object"){v()}else{u()}}else{setTimeout(function(){if(p<j.options.sentences.length-1||j.options.loop){m(q.textContent.length,n);p++}else{if(typeof j.finished==="function"){j.finished()}return}},j.options.pause)}}}}q.innerHTML="";r()}else{if(j.options.loop){j.init()}}}var q=document.createElement("span");var k="";q.style="white-space:pre;";var l=document.createElement("span");l.className="typing-cursor";l.textContent=j.options.cursorChar;j.element.innerHTML="";j.element.appendChild(q);j.element.appendChild(l);setTimeout(function(){n()},j.options.startDelay)}i.prototype.attach=a;i.prototype.setOptions=h;i.prototype.finished=e;i.prototype.init=f;window.Typinyin=i}).call(this);