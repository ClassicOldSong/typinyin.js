"use strict";(function(){var c={sentences:[{ch:["这是","一个","实例","示例"],py:["zheshi","yige","shili","shili"],},{ch:["This is an example."],py:["This is an exaaaaaaaa\b\b\b\b\b\b\bmple."]}],startDelay:0,typeSpeed:100,pause:1000,backSpeed:60,cursorChar:"|",loop:false,};var d;function g(){return('Typinyin - Ver 0.1.3 \n Please use "new" to create a typinin element.')}function a(h){this.element=h;if(typeof h==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!==null))){throw new Error("Invalid typinyin element.")}if(this.element.typinyin){throw new Error("Typinyin already attached.")}this.element.typinyin=true;return this}function f(h){this.options=h;return this}function b(){if(typeof this.options==="undefined"){this.options=c}else{for(var h in c){if(typeof this.options[h]==="undefined"){this.options[h]=c[h]}}}}function e(){var h=this;b.call(h);var n=0;function k(s,q){var r=s;function p(){if(r>0){setTimeout(function(){o.textContent=o.textContent.substr(0,o.textContent.length-1);r--;p()},h.options.backSpeed)}else{if(typeof q==="function"){q()}}}p()}function m(q,p){setTimeout(function(){p()},q)}function l(){i="";var w=0;var u;var p=0;var t=0;var v="";function q(){if(p<u.length){if(u[p]==="\b"){p++;k(1,q);v=v.slice(0,v.length-1)}else{setTimeout(function(){v+=u[p];o.textContent=i+v;p++;q()},h.options.typeSpeed)}}else{setTimeout(function(){v=h.options.sentences[n].ch[w];o.textContent=i+v;i=o.textContent;w++;s()},h.options.typeSpeed)}}function r(){var x=0;function y(){if(x<u[t].length){if(u[t][x]==="\b"){k(1,y);v=v.slice(0,v.length-1);x++}else{setTimeout(function(){v+=u[t][x];o.textContent=i+v;x++;y()},h.options.typeSpeed)}}else{setTimeout(function(){t++;r()},h.options.typeSpeed)}}if(t<u.length){if(typeof u[t]==="object"){if(typeof u[t].del!="undefined"){k(u[t].del,r);v=v.slice(0,v.length-u[t].del);t++}else{if(typeof u[t].pause!="undefined"){m(u[t].pause,r);t++}else{throw new Error("Invalid word or method!")}}}else{y()}}else{setTimeout(function(){v=h.options.sentences[n].ch[w];o.textContent=i+v;i=o.textContent;w++;s()},h.options.typeSpeed)}}function s(){if(h.options.sentences[n].ch[w]==="\b"){k(1,function(){i=o.textContent;s()});w++}else{if(typeof h.options.sentences[n].ch[w]==="object"){if(typeof h.options.sentences[n].ch[w].del!="undefined"){k(h.options.sentences[n].ch[w].del,function(){i=o.textContent;s()});w++}else{if(typeof h.options.sentences[n].ch[w].pause!="undefined"){m(h.options.sentences[n].ch[w].pause,s);w++}else{throw new Error("Invalid word or method!")}}}else{if(w<h.options.sentences[n].ch.length){u=h.options.sentences[n].py[w];p=0;t=0;v="";if(typeof u==="object"){r()}else{q()}}else{setTimeout(function(){if(n<h.options.sentences.length-1||h.options.loop){k(o.textContent.length,l);n++}else{if(typeof h.finished==="function"){h.finished()}return}},h.options.pause)}}}}if(n<h.options.sentences.length){w=0;o.innerHTML="";s()}else{if(h.options.loop){h.init()}}}var o=document.createElement("span");var i="";o.style.cssText="white-space:pre-wrap;";var j=document.createElement("span");j.className="typing-cursor";j.textContent=h.options.cursorChar;h.element.innerHTML="";h.element.appendChild(o);h.element.appendChild(j);setTimeout(function(){l()},h.options.startDelay)}g.prototype.attach=a;g.prototype.setOptions=f;g.prototype.finished=d;g.prototype.init=e;window.Typinyin=g})();